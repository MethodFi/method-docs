---
sidebar_label: Sync a liability's data
---

import EntitiesMethodDataCreateIndividual from '../../../src/snippets/EntitiesMethodDataCreateIndividual';
import ElementsAuthCallback from '../../../src/snippets/ElementsAuthCallback';
import EntitiesCreateIndividualAuthSession from '../../../src/snippets/EntitiesCreateIndividualAuthSession';
import EntitiesUpdateIndividualAuthSession from '../../../src/snippets/EntitiesUpdateIndividualAuthSession';
import ConnectionsRetrieve from '../../../src/snippets/ConnectionsRetrieve';
import ConnectionsList from '../../../src/snippets/ConnectionsList';
import AccountsHolderMethodDataList from '../../../src/snippets/AccountsHolderMethodDataList';
import QuickStartCreateDestinationCSR from '../../../src/snippets/QuickStartCreateDestinationCSR';
import AccountSync from '../../../src/snippets/AccountSync';
import AccountsRetrieve from '../../../src/snippets/AccountsRetrieve';
import WebhooksCreateAccountUpdate from '../../../src/snippets/WebhooksCreateAccountUpdate';

# Sync a liability's data
‚ú® __Method Sync__ allows you to retrieve real-time enhanced data for any liability created in Method. Method Sync is available
for a fast growing list of `merchants`.

With Sync, you can fetch key liability details such as `interest_rate_percentage`, `payoff_amount`, `balance` and much more
in real-time directly from the financial institution or loan servicer. ‚û°Ô∏è See all [available data fields](../../../guides/accounts/retrieve-liability-account-data) per liability type.

## Steps
- [Create an individual entity](#1-create-an-individual-entity) to represent your end-user.
- [Create a liability account](#2-create-a-liability-account) which we'll fetch enhanced data for.
- [Initiate an account sync](#3-initiate-an-account-sync) with the previously created liability account.
- [Handle the sync events](#4-handle-the-sync-events) generated by the syncing process.
- [Retrieve the liability data](#5-retrieve-the-liability-data) returned live from the financial institution.

---

## 1. Create an individual entity
First we'll create an individual entity. An entity is a representation of your end-user. To initiate a data sync
for an account you'll need to provide, at a minimum, the end-user's `first_name`, `last_name` and a verified `phone` number.

### Primer on capabilities
Capabilities are an indicator of an entities' status. For this flow we are interested in the `data:sync` capability.
The location of `data:sync` in an entities' capability fields indicates the next steps.

:::tip
Entities should only be created once per end-user. Entities can be re-used across all of Method's products.
:::

| Field                  | Meaning                                                        | Next Steps                                                                |
|------------------------|----------------------------------------------------------------|---------------------------------------------------------------------------|
| `pending_capability`   | We were unable to find the individual using the provided data. | Provide more data using [Entity Update endpoint](../../api/core/entities/update).   |
| `capability`           | Entity successfully matched using the provided data.                   | Sync a liability's data using [Account Sync endpoint](../../api/core/accounts/sync) (this guide!).                      |

:::caution
For building / testing in Method's `dev` environment, see [Auth Element simulate requirements](/api/elements/auth/intro#simulate-requirements)
to determine what information should be submitted for an entity.
:::

#### Request

<EntitiesMethodDataCreateIndividual />

#### Response
```json
{
  "id": "ent_au22b1fbFJbp8",
  "type": "individual",
  "individual": {
    "first_name": "Kevin",
    "last_name": "Doyle",
    "phone": "+15121231111",
    "dob": null,
    "email": null
  },
  "capabilities": [
    "payments:receive",
    "payments:send",
    "data:sync"
  ],
  "available_capabilities": [
    "data:retrieve"
  ],
  "pending_capabilities": [],
  ...
}
```

---

## 2. Create a liability account
Next we'll create `liability` account we want to retrieve data for. A `liability` account is any type of liability
(personal loans, credit cards, student loans, bills, etc.)

Method Sync is available for a fast growing list of `merchants`. A `liability` account with `data:sync` in `available_capabilities`
indicates that institution participates in Method Sync. For a full list of eligible `merchants` contact Method Support.

### Using Method Data
üí° You can automatically retrieve all of an entity's liabilities using
__Method Data__. See the [retrieve an entity's debts](/guides/quick-start/retrieve-an-entitys-debts) guide
to learn more.

### Using Link Element
üì± You can embed the Link Element to securly allow your user's to connect their debts directly to Method. See
[Overview of Link Element](../../api/elements/link/intro) to learn more.

#### Demo
<iframe
  width="100%"
  height="850"
  style={{ marginTop: 30 }}
  src="https://elements.dev.methodfi.com/?demo=link" />

### Using API

‚ÑπÔ∏è See [create an account](/guides/accounts/create-an-account#create-using-api) to learn more

#### Request
<QuickStartCreateDestinationCSR />

#### Response
```json
{
  "id": "acc_Zc4F2aTLt8CBt",
  "holder_id": "ent_au22b1fbFJbp8",
  "type": "liability",
  "liability": {
    "mch_id": "mch_183",
    "mask": "1580",
    "type": "credit_card",
    "data_status": "pending",
    "data_last_successful_sync": null,
    "credit_card": {
      "name": "Chase Sapphire Reserve",
      "balance": null,
      "opened_at": null,
      "last_payment_date": null,
      "last_payment_amount": null,
      "next_payment_due_date": null,
      "next_payment_minimum_amount": null,
      "last_statement_balance": null,
      "remaining_statement_balance": null,
      "available_credit": null,
      "pending_purchase_authorization_amount": null,
      "pending_credit_authorization_amount": null,
      "interest_saving_balance": null,
      "interest_rate_percentage": null,
      "interest_rate_type": null,
    }
  },
  "status": "active",
  "capabilities": [
    "payments:receive"
  ],
  "available_capabilities": [
    "data:sync"
  ],
  "error": null,
  "created_at": "2022-02-16T02:56:19.548Z",
  "updated_at": "2022-02-16T02:56:19.548Z"
}
```


---

## 3. Initiate an account sync
Once the `account` and the `entity` both have the `data:sync` capability you can initiate a sync for a specific liability.

A successful sync will enroll the liability in nightly data updates directly from the financial institution. (more on that below! ‚§µÔ∏è)

üí° To check the status of a sync use the `data_status` and `data_last_successful_sync` in the `account.liability` response.

#### Request
<AccountSync />

#### Response

```json
{
  "data": {
    "id": "acc_sync_6d94yUUMjbcXL",
    "acc_id": "acc_Zc4F2aTLt8CBt",
    "status": "in_progress",
    "error": null,
    "created_at": "2022-06-14T15:10:28.213Z",
    "updated_at": "2022-06-14T15:10:28.213Z"
  }
}
```


---

## 4. Handle the sync events
Sync is optimized for speed, and will eagerly save / notify of new updates to a liability (even if the sync is still in_progress and incomplete)
In practice, this means that some fields might temporarily return null while we wait for data to be received from the financial institution.

Method Sync interfaces directly with financial institutions, as a result, syncs in average take <60 seconds to complete,
but in rare-cases can take up to 180 seconds.

üí° To check the status of a sync use the `data_status` and `data_last_successful_sync` in the `account.liability` response.

Subscribe to the `account:update` [webhook](/api/core/webhooks/object) to be notified of all data changes / updates.

<WebhooksCreateAccountUpdate />

---

## 5. Retrieve the liability data

Once the sync is complete you will receive an `account:update` webhook and the `data_status` field in the `liability` will
show the status of `active`.

All the data is immediately available in the liability object. After the initial sync is complete, the liability will be
enrolled in nightly data updates. The liability account will update all data on a nightly basis and you'll be notified via
the `account:update` webhook.

#### Request
<AccountsRetrieve />

#### Response

```json
{
  "id": "acc_Zc4F2aTLt8CBt",
  "holder_id": "ent_au22b1fbFJbp8",
  "type": "liability",
  "liability": {
    "mch_id": "mch_183",
    "mask": "1580",
    "type": "credit_card",
    "data_status": "active",
    "data_last_successful_sync": "2022-06-14T15:13:02.546Z",
    "credit_card": {
      "name": "Chase Sapphire Reserve",
      "balance": 550472,
      "opened_at": "2016-11-25",
      "last_payment_date": "2022-05-27",
      "last_payment_amount": 361000,
      "next_payment_due_date": null,
      "next_payment_minimum_amount": null,
      "last_statement_balance": 760501,
      "remaining_statement_balance": 0,
      "available_credit": 1788500,
      "pending_purchase_authorization_amount": 54136,
      "pending_credit_authorization_amount": null,
      "interest_saving_balance": null,
      "interest_rate_percentage": 21.75,
      "interest_rate_type": "variable"
    }
  },
  "status": "active",
  "capabilities": [
    "payments:receive",
    "data:sync"
  ],
  "available_capabilities": [],
  "error": null,
  "created_at": "2022-02-16T02:56:19.548Z",
  "updated_at": "2022-06-14T15:13:09.520Z"
}
```
